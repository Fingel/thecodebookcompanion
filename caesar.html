<!DOCTYPE html>
<html>
  <head>
    <title>The Code Book Companion | Caeasar Shift</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
     <!-- Bootstrap -->
     <!-- Latest compiled and minified CSS -->
     <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/css/bootstrap.min.css">
     
      <!-- custom -->
     <link rel="stylesheet" href="css/style.css">
      
      <!-- JavaScript plugins (requires jQuery) -->
      <script src="http://code.jquery.com/jquery.js"></script>
     
     <!-- Latest compiled and minified JavaScript -->
     <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
       <div class="row">
           <div class="col-lg-8">
           <h1>The Caesar Shift</h1>
        <p class="lead">A very simple cipher where the key is a number, n. Simply shift the letters n places in the alphabet to generate the Ciphertext. Perform the opposite to obtain the Plaintext. Note that all string are converted to lower case with all special characters and numbers removed.</p>
              <fieldset>
                <legend>Encrypt</legend>
                <div class="form-group">
                  <label for="plaintext">Plaintext</label>
                  <input type="text" class="form-control" id="plaintext" placeholder="Enter text to encrypt">
                </div>
                <div class="form-group">
                  <label for="shifts">Number of Shifts</label>
                  <select class="form-control" id="shifts">
                      <option>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="output">Ciphertext Output</label>
                    <textarea class="form-control" id="output" rows="3"></textarea>
                </div>
                <button class="btn btn-default" onClick="caesarshift()">Encrypt</button>
              </fieldset>
              <br/>
              <fieldset>
                <legend>Decrypt</legend>
                <div class="form-group">
                  <label for="ciphertext">Ciphertext</label>
                  <input type="text" class="form-control" id="ciphertext" placeholder="Enter text to decrypt">
                </div>
                <div class="form-group">
                  <label for="deshifts">Number of Shifts</label>
                  <select class="form-control" id="deshifts">
                      <option>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="deoutput">Plaintext Output</label>
                    <textarea class="form-control" id="deoutput" rows="3"></textarea>
                </div>
                <button class="btn btn-default" onClick="decaesarshift()">Decrypt</button>
              </fieldset>
              <h2><a href="index.html">Back</a></h2>
            </div>

        </div>
    </div><!-- /.container -->
    </body>
    <script type="text/javascript">
        var alphabet = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
        function cipher(shiftn){
            var i = 0;
            var cipher = new Array(26);
            for (i; i < 26; i++){
                var index = 0;
                if ((i + shiftn) > 25){
                    index = (i + shiftn) % 26;
                }
                else {
                    index = i + shiftn;
                }
                cipher[i] = alphabet[index];
            }
            return cipher;
        }

        function caesarshift(){
            plaintext = $("#plaintext").val().toLowerCase().replace(/\W/g, '').replace(/[0-9]/g, '')
            cipherAlpha = cipher(parseInt($("#shifts").val()))
            var ciphertext =""
            for (var i = 0; i < plaintext.length; i++) {
               var index = alphabet.indexOf(plaintext[i])
               ciphertext = ciphertext+cipherAlpha[index]
            }
            $("#output").val(ciphertext)
        }
        function decaesarshift(){
            ciphertext = $("#ciphertext").val().toLowerCase().replace(/\W/g, '').replace(/[0-9]/g, '')
            cipherAlpha = cipher(parseInt($("#shifts").val()))
            var plaintext = ""
            shifted = 0
            for (var i = 0; i < ciphertext.length; i++) {
               var index = cipherAlpha.indexOf(ciphertext[i])
               plaintext = plaintext + alphabet[index]
            }
            $("#deoutput").val(plaintext)
        }
    </script>

</html>

